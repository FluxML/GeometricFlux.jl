<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Graph passing · GeometricFlux</title><link rel="canonical" href="https://yuehhua.github.io/GeometricFlux.jl/stable/basics/passgraph/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="GeometricFlux logo"/></a><div class="docs-package-name"><span class="docs-autofit">GeometricFlux</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../start/">Get started</a></li><li><span class="tocitem">Basics</span><ul><li><a class="tocitem" href="../layers/">Building layers</a></li><li class="is-active"><a class="tocitem" href>Graph passing</a><ul class="internal"><li><a class="tocitem" href="#Static-graph-1"><span>Static graph</span></a></li><li><a class="tocitem" href="#Variable-graph-1"><span>Variable graph</span></a></li><li><a class="tocitem" href="#Cached-graph-in-layers-1"><span>Cached graph in layers</span></a></li></ul></li></ul></li><li><span class="tocitem">Abstractions</span><ul><li><a class="tocitem" href="../../abstractions/msgpass/">Message passing scheme</a></li><li><a class="tocitem" href="../../abstractions/gn/">Graph network block</a></li></ul></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../manual/conv/">Convolutional Layers</a></li><li><a class="tocitem" href="../../manual/pool/">Pooling Layers</a></li><li><a class="tocitem" href="../../manual/models/">Models</a></li><li><a class="tocitem" href="../../manual/linalg/">Linear Algebra</a></li><li><a class="tocitem" href="../../manual/utils/">Utilities</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Basics</a></li><li class="is-active"><a href>Graph passing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Graph passing</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/yuehhua/GeometricFlux.jl/blob/master/docs/src/basics/passgraph.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Graph-passing-1"><a class="docs-heading-anchor" href="#Graph-passing-1">Graph passing</a><a class="docs-heading-anchor-permalink" href="#Graph-passing-1" title="Permalink"></a></h1><p>Graph is an input data structure for graph neural network. Passing graph into GNN layer can have different behaviors. If graph remains fixed across samples, that is, all samples utilize the same graph structure, a static graph is used. Graphs can be carried within <code>FeaturedGraph</code> to provide varible graph to GNN layer. Users have the flexibility to pick a adequate approach for their own needs.</p><h2 id="Static-graph-1"><a class="docs-heading-anchor" href="#Static-graph-1">Static graph</a><a class="docs-heading-anchor-permalink" href="#Static-graph-1" title="Permalink"></a></h2><p>A static graph is used to reduce redundent computation during passing through layers. A static graph can be set in graph convolutional layers in prior such that graph in layers is used first for computation. A adjacency matrix <code>adj_mat</code> is given to represent a graph and is put into a graph convolutional layer as follow:</p><pre><code class="language-none">GCNConv(adj_mat, feat=&gt;h1, relu)</code></pre><p><code>Simple(Di)Graph</code>, <code>SimpleWeighted(Di)Graph</code> or <code>Meta(Di)Graph</code> provided by LightGraphs, SimpleWeightedGraphs and MetaGraphs, respectively, are acceptable for passing to layer as a static graph. A adjacency list is also accepted in the type of <code>Vector{Vector}</code>.</p><h2 id="Variable-graph-1"><a class="docs-heading-anchor" href="#Variable-graph-1">Variable graph</a><a class="docs-heading-anchor-permalink" href="#Variable-graph-1" title="Permalink"></a></h2><p>A variable graph is supported by <code>FeaturedGraph</code>. Each <code>FeaturedGraph</code> contains different graph structure and its features. Data of <code>FeaturedGraph</code> are feed directly to graph convolutional layer or graph neural network to let each feature be learn on different graph strucutre. A adjacency matrix <code>adj_mat</code> is given to construct a <code>FeaturedGraph</code> as follow:</p><pre><code class="language-none">FeaturedGraph(adj_mat, features)</code></pre><p><code>Simple(Di)Graph</code>, <code>SimpleWeighted(Di)Graph</code> or <code>Meta(Di)Graph</code> provided by LightGraphs, SimpleWeightedGraphs and MetaGraphs, respectively, are acceptable for constructing a <code>FeaturedGraph</code>. A adjacency list is also accepted, too.</p><h2 id="Cached-graph-in-layers-1"><a class="docs-heading-anchor" href="#Cached-graph-in-layers-1">Cached graph in layers</a><a class="docs-heading-anchor-permalink" href="#Cached-graph-in-layers-1" title="Permalink"></a></h2><p>While a variable graph is given by <code>FeaturedGraph</code>, a GNN layer don&#39;t need a static graph anymore. Besides taking off the static graph from arguments of a layer, remember to turn off the cache mechanism. A cache mechanism is designed to cache static graph to reduce computation. A cached graph is gotten from layer and computation is then performed. For each time, it will assign current computating graph back to layer. Assignment operation is not differentiable, so we must turn off the cache mechanism as follow:</p><pre><code class="language-none">GCNConv(feat=&gt;h1, relu, cached=false)</code></pre><p>This ensures layer function as expected.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../layers/">« Building layers</a><a class="docs-footer-nextpage" href="../../abstractions/msgpass/">Message passing scheme »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 7 October 2020 07:47">Wednesday 7 October 2020</span>. Using Julia version 1.5.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
